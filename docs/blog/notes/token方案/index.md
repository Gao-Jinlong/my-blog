# Token 方案

### token 处理

将令牌存储在 Cookie 和 Local Storage 中都有其优缺点，取决于具体的使用场景和安全需求。

Cookie：

优点：
Cookie 在浏览器和服务器之间来回传递，因此在客户端和服务器之间共享令牌很方便。
可以设置 Cookie 的过期时间，使得令牌在一段时间后失效，增加了一定的安全性。
缺点：
Cookie 在每次 HTTP 请求中都会自动发送，包括页面资源请求，因此可能会增加网络流量，降低性能。
可能会受到跨站点请求伪造（CSRF）攻击，因为浏览器会自动发送包含 Cookie 的请求，如果被恶意网站获取到用户的 Cookie，就可以伪造用户的身份发送请求。
存储容量有限，大约在 4KB 左右。
Local Storage：

优点：
可以存储大量数据，一般限制在 5MB 左右，比 Cookie 更适合存储较大的令牌或其他数据。
数据存储在客户端，不会在每次请求中自动发送，不会影响网络性能。
缺点：
Local Storage 中的数据在客户端和服务器之间不会自动传输，需要通过 JavaScript 明确获取并发送到服务器，因此相对于 Cookie，使用起来稍显麻烦。
由于数据存储在客户端，存在被恶意网站获取的风险，尤其是对于敏感数据，需要特别注意安全性。
综合考虑，对于令牌这种敏感信息，通常建议将其存储在 HttpOnly 的 Secure Cookie 中，以确保安全性和可用性。在某些情况下，如果需要存储大量数据或者不需要在每次请求中发送令牌，可以考虑使用 Local Storage。
