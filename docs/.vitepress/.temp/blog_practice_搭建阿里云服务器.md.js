import { ssrRenderAttrs, ssrRenderStyle } from "vue/server-renderer";
import { useSSRContext } from "vue";
import { _ as _export_sfc } from "./plugin-vue_export-helper.cc2b3d55.js";
const __pageData = JSON.parse('{"title":"使用阿里云搭建个人服务器","description":"","frontmatter":{"lastUpdated":true},"headers":[],"relativePath":"blog/practice/搭建阿里云服务器.md","filePath":"blog/practice/搭建阿里云服务器.md","lastUpdated":1706238910000}');
const _sfc_main = { name: "blog/practice/搭建阿里云服务器.md" };
function _sfc_ssrRender(_ctx, _push, _parent, _attrs, $props, $setup, $data, $options) {
  _push(`<div${ssrRenderAttrs(_attrs)}><h1 id="使用阿里云搭建个人服务器" tabindex="-1">使用阿里云搭建个人服务器 <a class="header-anchor" href="#使用阿里云搭建个人服务器" aria-label="Permalink to &quot;使用阿里云搭建个人服务器&quot;">​</a></h1><h2 id="购买服务器" tabindex="-1">购买服务器 <a class="header-anchor" href="#购买服务器" aria-label="Permalink to &quot;购买服务器&quot;">​</a></h2><ol><li>购买 ECS 服务</li><li>重设服务器密码</li><li>修改阿里云安全组配置，开放 80 端口</li></ol><h2 id="连接服务器" tabindex="-1">连接服务器 <a class="header-anchor" href="#连接服务器" aria-label="Permalink to &quot;连接服务器&quot;">​</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 进入 root 模式</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">sudo</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">-i</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 输入密码</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 连接服务器</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">ssh</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">root@ip</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># root 是用户名，ip 是服务器公网 ip 或者域名</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 输入设置的密码</span></span></code></pre></div><p>先更新 Ubuntu 防止安装找不到问题</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">apt-get</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">update</span></span></code></pre></div><h3 id="安装-nvm" tabindex="-1">安装 nvm <a class="header-anchor" href="#安装-nvm" aria-label="Permalink to &quot;安装 nvm&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">curl</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">-o-</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.5/install.sh</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">|</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">bash</span></span></code></pre></div><p><code>-o</code> 将下载内容输出到指定位置，<code>-</code> 表示输出到标准输出 <code>|</code> 管道操作符，将 <code>curl</code> 命令的输出传递给下一个命令 <code>bash</code> 命令行解释器，这里被用于执行安装脚本</p><h3 id="安装-node" tabindex="-1">安装 node <a class="header-anchor" href="#安装-node" aria-label="Permalink to &quot;安装 node&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">nvm</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">install</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">18</span></span></code></pre></div><h3 id="安装-docker" tabindex="-1">安装 docker <a class="header-anchor" href="#安装-docker" aria-label="Permalink to &quot;安装 docker&quot;">​</a></h3><p><a href="https://docs.docker.com/engine/install/ubuntu/#install-using-the-repository" target="_blank" rel="noreferrer">Install Docker Engine on Ubuntu</a></p><h3 id="配置防火墙" tabindex="-1">配置防火墙 <a class="header-anchor" href="#配置防火墙" aria-label="Permalink to &quot;配置防火墙&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">ufw</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">allow</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">&#39;</span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">Nginx HTTP</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># ufw 用户友好的防火墙管理工具</span></span></code></pre></div><h3 id="安装-nginx" tabindex="-1">安装 Nginx <a class="header-anchor" href="#安装-nginx" aria-label="Permalink to &quot;安装 Nginx&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">apt-get</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">install</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">nginx</span></span></code></pre></div><p>配置虚拟主机</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 创建网站目录</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">mkdir</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">/var/www/example.com</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 在 /etc/nginx/sites-available/ 目录中创建一个新的虚拟主机配置</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">vim</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">/etc/nginx/site-available/example.com.conf</span></span></code></pre></div><div class="language-nginx"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 添加配置</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#C792EA" })}">server</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#BABED8" })}">   </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}"> listen </span><span style="${ssrRenderStyle({ "color": "#BABED8" })}">80</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 监听 IPv4 80 端口</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#BABED8" })}">   </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}"> listen </span><span style="${ssrRenderStyle({ "color": "#BABED8" })}">[::]:80</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 监听 IPv6 的 80 端口</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#BABED8" })}">   </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}"> root </span><span style="${ssrRenderStyle({ "color": "#BABED8" })}">/var/www/example.com</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 网站根目录</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#BABED8" })}">   </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}"> index </span><span style="${ssrRenderStyle({ "color": "#BABED8" })}">index.html index.htm</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 默认索引文件</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#BABED8" })}">   </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}"> server_name </span><span style="${ssrRenderStyle({ "color": "#BABED8" })}">example.com www.example.com</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 匹配域名</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#BABED8" })}">    </span><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># server_name _; # 默认虚拟主机，匹配所有请求</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#BABED8" })}">    </span><span style="${ssrRenderStyle({ "color": "#C792EA" })}">location</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">/ </span><span style="${ssrRenderStyle({ "color": "#BABED8" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#BABED8" })}">       </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}"> try_files $</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}">uri </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">$</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}">uri/ </span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">=404</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 配置 URL路径处理</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#BABED8" })}">    }</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#BABED8" })}">}</span></span></code></pre></div><p>启用 nginx 配置</p><p>nginx 通常将配置文件存储在 <code>/etc/nginx/sites-available/</code> 目录中 将配置文件的符号链接添加到 <code>/etc/nginx/sites-enabled/</code> 中即可启用配置</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">ln</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">-s</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">/etc/nginx/sites-available/example.com.conf</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">/etc/nginx/sites-enabled/</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 默认建立硬链接</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># -s 对源文件简历符号链接，而非硬链接</span></span></code></pre></div><p>启动 nginx</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">systemctl</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">start</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">nginx</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 重新加载配置</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">system</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">reload</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">nginx</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 重启 nginx</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">systemctl</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">restart</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">nginx</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 查看 nginx 状态</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">systemctl</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">status</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">nginx</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 停止 nginx 服务</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">systemctl</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">stop</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">nginx</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># systemctl 用于管理系统服务的命令行工具</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 启动自启动</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">systemctl</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">enable</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">&lt;</span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">service_nam</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}">e</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">&gt;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 禁用自启动</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">systemctl</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">disable</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">&lt;</span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">service_nam</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}">e</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">&gt;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 列出所有服务</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">systemctl</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">list-units</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">--type=service</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#676E95", "font-style": "italic" })}"># 查看日志</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">journalctl</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">-u</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">&lt;</span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">service_nam</span><span style="${ssrRenderStyle({ "color": "#BABED8" })}">e</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">&gt;</span></span></code></pre></div><h3 id="上传文件" tabindex="-1">上传文件 <a class="header-anchor" href="#上传文件" aria-label="Permalink to &quot;上传文件&quot;">​</a></h3><p>使用 SCP 进行上传（路径反过来就是下载）：</p><ul><li>打开终端，使用以下 scp 命令来将文件上传到服务器。假设您的程序文件位于本地的 /path/to/local/file，服务器上的目标目录是 /path/to/remote/directory，并且您有 SSH 访问权限。</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#babed8" })}">scp -r -C /path/to/local/file/* username@server_ip:/var/www/example.com.conf</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#babed8" })}"></span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#babed8" })}"># -r 以递归方式复制</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#babed8" })}"># -C 使用压缩</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#babed8" })}"># -i identity_file 从指定文件中读取传输时使用的密钥文件（pem）</span></span></code></pre></div><ul><li>/path/to/local/file 是本地文件的路径。</li><li>username 是您在服务器上的用户名。</li><li>server_ip 是服务器的 IP 地址。</li><li>/path/to/remote/directory 是服务器上的目标目录。</li><li>输入服务器上的用户密码（如果需要），然后文件将被上传到服务器的指定目录。</li></ul></div>`);
}
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("blog/practice/搭建阿里云服务器.md");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
const ________ = /* @__PURE__ */ _export_sfc(_sfc_main, [["ssrRender", _sfc_ssrRender]]);
export {
  __pageData,
  ________ as default
};
